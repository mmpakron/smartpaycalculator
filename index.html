<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SmartPayCalculator | Pay Calculators</title>
  <meta name="description" content="Hourly to salary (with optional overtime) and salary to hourly calculators. Fast, simple, and mobile-friendly." />

  <style>
    :root{
      --bg: #0b1220;
      --card: rgba(255,255,255,0.06);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.70);
      --line: rgba(255,255,255,0.12);
      --shadow: 0 18px 50px rgba(0,0,0,0.35);
      --radius: 18px;
      --max: 980px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(99,102,241,0.35), transparent 60%),
        radial-gradient(900px 600px at 90% 10%, rgba(34,197,94,0.22), transparent 60%),
        radial-gradient(900px 600px at 50% 120%, rgba(59,130,246,0.18), transparent 60%),
        var(--bg);
      min-height:100vh;
      line-height:1.45;
    }

    a{color:inherit}
    .wrap{max-width: var(--max); margin: 0 auto; padding: 28px 18px 56px;}
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:14px; padding: 10px 0 18px;}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; font-weight:800; letter-spacing:0.2px;}
    .logo{
      width:34px; height:34px; border-radius:10px;
      background: linear-gradient(135deg, rgba(99,102,241,0.9), rgba(34,197,94,0.7));
      box-shadow: 0 10px 25px rgba(0,0,0,0.25);
      display:inline-block;
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.03);
      font-size: 12px;
      color: var(--muted);
      white-space:nowrap;
    }

    header{padding: 10px 0 18px;}
    h1{font-size: clamp(28px, 4vw, 44px); line-height:1.08; margin: 10px 0 10px; letter-spacing:-0.6px;}
    .sub{color: var(--muted); font-size: 16px; max-width: 85ch; margin: 0 0 14px;}

    .grid{display:grid; grid-template-columns: 1.05fr 0.95fr; gap: 16px; margin-top: 18px;}
    @media (max-width: 860px){ .grid{grid-template-columns:1fr} }

    .card{
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.03));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: visible;
    }
    .card .hd{
      padding: 16px 16px 10px;
      display:flex; align-items:flex-start; justify-content:space-between; gap: 12px;
      border-bottom: 1px solid var(--line);
      background: rgba(255,255,255,0.03);
      border-top-left-radius: var(--radius);
      border-top-right-radius: var(--radius);
    }
    .card .hd h2{margin:0; font-size:16px; letter-spacing:-0.2px;}
    .card .hd .hint{margin:2px 0 0; font-size:12px; color: var(--muted);}
    .card .bd{padding: 16px;}

    .seg{display:flex; gap:8px; flex-wrap:wrap; margin-bottom: 14px;}
    .seg button{
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      font-weight: 900;
      font-size: 13px;
    }
    .seg button[aria-pressed="true"]{
      border-color: rgba(34,197,94,0.6);
      background: rgba(34,197,94,0.14);
    }

    .row{display:grid; grid-template-columns: 1fr 1fr; gap: 12px;}
    @media (max-width: 520px){ .row{grid-template-columns:1fr} }

    label{display:block; font-size:12px; color: var(--muted); margin-bottom:6px;}
    input{
      width:100%;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      outline:none;
    }
    input:focus{
      border-color: rgba(99,102,241,0.6);
      box-shadow: 0 0 0 4px rgba(99,102,241,0.15);
    }

    .pill{
      font-size: 12px; color: var(--muted);
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
      padding: 6px 10px;
      border-radius: 999px;
      text-decoration:none;
      white-space:nowrap;
    }

    .results{display:grid; gap: 10px;}
    .kpi{
      padding: 14px;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
      display:flex; justify-content:space-between; gap: 12px;
    }
    .kpi .lbl{color: var(--muted); font-size: 12px; margin: 0}
    .kpi .val{margin:2px 0 0; font-size: 20px; font-weight: 900; letter-spacing:-0.2px;}
    .kpi .mini{font-family: var(--mono); color: rgba(255,255,255,0.70); font-size: 12px; margin-top: 6px;}

    .note{margin-top: 12px; color: var(--muted); font-size: 13px;}
    .section{margin-top: 18px; padding: 16px; border-top: 1px solid var(--line);}
    .section h3{margin: 0 0 10px; font-size: 15px;}
    .section p{color: var(--muted); margin: 0 0 10px; font-size: 14px;}
    .formula{
      font-family: var(--mono);
      background: rgba(255,255,255,0.04);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 12px;
      overflow:auto;
      color: rgba(255,255,255,0.85);
      font-size: 12px;
      white-space: pre;
    }

    .faq details{
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.03);
      border-radius: 14px;
      padding: 12px;
      margin: 10px 0;
    }
    .faq summary{
      cursor:pointer;
      font-weight: 900;
      color: rgba(255,255,255,0.90);
      list-style:none;
    }
    .faq summary::-webkit-details-marker{display:none}

    .footer{
      margin-top: 22px;
      color: var(--muted);
      font-size: 12px;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
      border-top: 1px solid var(--line);
      padding-top: 16px;
    }

    /* Toggle */
    .toggleRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.04);
      border-radius: 14px;
      margin-top: 10px;
    }
    .toggleRow .tText{display:flex; flex-direction:column; gap:2px;}
    .toggleRow .tTitle{font-weight: 900; font-size: 13px;}
    .toggleRow .tSub{font-size: 12px; color: var(--muted);}
    .switch{position:relative; width: 46px; height: 28px; flex: 0 0 auto;}
    .switch input{opacity:0; width:0; height:0;}
    .slider{
      position:absolute; inset:0;
      cursor:pointer;
      background: rgba(255,255,255,0.10);
      border: 1px solid var(--line);
      border-radius: 999px;
      transition: .2s;
    }
    .slider:before{
      content:"";
      position:absolute;
      height: 22px; width: 22px;
      left: 3px; top: 2px;
      border-radius: 50%;
      background: rgba(255,255,255,0.85);
      transition: .2s;
    }
    .switch input:checked + .slider{
      background: rgba(34,197,94,0.20);
      border-color: rgba(34,197,94,0.55);
    }
    .switch input:checked + .slider:before{transform: translateX(18px);}

    /* Custom dropdown (fixes the Windows/Chrome native select glitch) */
    .cselect{position:relative;}
    .cselect button{
      width:100%;
      text-align:left;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,0.05);
      color: var(--text);
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .cselect button:focus{
      outline:none;
      border-color: rgba(99,102,241,0.6);
      box-shadow: 0 0 0 4px rgba(99,102,241,0.15);
    }
    .chev{opacity:.85; font-size: 12px;}
    .coptions{
      position:absolute;
      left:0; right:0;
      top: calc(100% + 6px);
      z-index: 9999;
      border: 1px solid var(--line);
      background: rgba(10,16,30,0.98);
      border-radius: 14px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.45);
      overflow:hidden;
      display:none;
      max-height: 240px;
      overflow-y:auto;
    }
    .coptions.open{display:block;}
    .copt{
      padding: 10px 12px;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      gap:2px;
      border-top: 1px solid rgba(255,255,255,0.06);
    }
    .copt:first-child{border-top:none;}
    .copt:hover{background: rgba(255,255,255,0.06);}
    .copt .t{font-weight: 800; font-size: 13px;}
    .copt .s{font-size: 12px; color: var(--muted);}
    .copt[aria-selected="true"]{background: rgba(34,197,94,0.16);}
    .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <a class="brand" href="#">
        <span class="logo" aria-hidden="true"></span>
        <span>SmartPayCalculator</span>
      </a>
      <span class="badge" title="This page was recently updated">
        Updated <span id="updatedDate">today</span>
      </span>
    </div>

    <header>
      <h1>Pay Calculators</h1>
      <p class="sub">
        Quick tools for pay comparisons: <strong>Hourly → Salary</strong> (with optional overtime) and <strong>Salary → Hourly</strong>.
        Clean, modern, and fast.
      </p>
    </header>

    <div class="grid">
      <section class="card">
        <div class="hd">
          <div>
            <h2>Calculator</h2>
            <p class="hint">No login. Instant results. Clean and simple.</p>
          </div>
          <a class="pill" href="#how">How it works</a>
        </div>

        <div class="bd">
          <div class="seg" role="group" aria-label="Calculator mode">
            <button id="modeHourly" type="button" aria-pressed="true">Hourly → Salary</button>
            <button id="modeSalary" type="button" aria-pressed="false">Salary → Hourly</button>
          </div>

          <!-- Hourly → Salary -->
          <div id="hourlyPanel">
            <div class="row" style="margin-bottom:12px;">
              <div>
                <label for="hourlyRate">Hourly rate</label>
                <input id="hourlyRate" inputmode="decimal" placeholder="e.g., 22.50" />
              </div>
              <div>
                <label for="hoursPerWeek">Hours per week</label>
                <input id="hoursPerWeek" inputmode="decimal" value="40" />
              </div>
              <div>
                <label for="weeksPerYear">Weeks per year</label>
                <input id="weeksPerYear" inputmode="decimal" value="52" />
              </div>

              <div>
                <label>Pay period (for overtime estimate)</label>
                <div class="cselect" data-name="payPeriod">
                  <span class="sr-only" id="payPeriodLabel">Pay period</span>
                  <button type="button" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="payPeriodLabel">
                    <span class="cvalue" id="payPeriodValue">Weekly (52/yr)</span>
                    <span class="chev">▾</span>
                  </button>
                  <div class="coptions" role="listbox" aria-label="Pay period options"></div>
                </div>
              </div>
            </div>

            <div class="toggleRow">
              <div class="tText">
                <div class="tTitle">Include overtime</div>
                <div class="tSub">Adds a simple overtime estimate to your yearly totals.</div>
              </div>
              <label class="switch" aria-label="Include overtime">
                <input id="includeOvertime" type="checkbox" />
                <span class="slider"></span>
              </label>
            </div>

            <div id="overtimeFields" style="display:none; margin-top:12px;">
              <div class="row">
                <div>
                  <label for="overtimeHours">Overtime hours (per pay period)</label>
                  <input id="overtimeHours" inputmode="decimal" value="0" />
                </div>

                <div>
                  <label>Overtime multiplier</label>
                  <div class="cselect" data-name="otMultiplier">
                    <span class="sr-only" id="otMultLabel">Overtime multiplier</span>
                    <button type="button" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="otMultLabel">
                      <span class="cvalue" id="otMultValue">1.5× (time and a half)</span>
                      <span class="chev">▾</span>
                    </button>
                    <div class="coptions" role="listbox" aria-label="Overtime multiplier options"></div>
                  </div>
                </div>

                <div id="customMultWrap" style="display:none;">
                  <label for="customMultiplier">Custom multiplier</label>
                  <input id="customMultiplier" inputmode="decimal" placeholder="e.g., 1.75" />
                </div>

                <div>
                  <label for="unused1"> </label>
                  <input id="unused1" disabled value=" " style="opacity:.35" />
                </div>
              </div>

              <p class="note">
                This assumes the <strong>same overtime</strong> each pay period. If your overtime varies, this is a quick estimate.
              </p>
            </div>

            <p class="note">
              Tip: If you take unpaid time off, reduce “Weeks per year” (for example, 50 instead of 52).
            </p>
          </div>

          <!-- Salary → Hourly -->
          <div id="salaryPanel" style="display:none;">
            <div class="row" style="margin-bottom:12px;">
              <div>
                <label for="annualSalary">Annual salary</label>
                <input id="annualSalary" inputmode="decimal" placeholder="e.g., 55000" />
              </div>
              <div>
                <label for="hoursPerWeek2">Hours per week</label>
                <input id="hoursPerWeek2" inputmode="decimal" value="40" />
              </div>
              <div>
                <label for="weeksPerYear2">Weeks per year</label>
                <input id="weeksPerYear2" inputmode="decimal" value="52" />
              </div>
              <div>
                <label for="unused2"> </label>
                <input id="unused2" disabled value=" " style="opacity:.35" />
              </div>
            </div>
            <p class="note">This converts gross annual salary to an estimated hourly rate based on your hours/weeks.</p>
          </div>
        </div>
      </section>

      <aside class="card">
        <div class="hd">
          <div>
            <h2>Results</h2>
            <p class="hint">Calculated in real time as you type.</p>
          </div>
          <span class="pill" id="resultStatus">Ready</span>
        </div>

        <div class="bd">
          <!-- Results: Hourly → Salary -->
          <div id="resultsHourly" class="results">
            <div class="kpi">
              <div>
                <p class="lbl">Annual</p>
                <div class="val" id="annualOut">$0</div>
                <div class="mini" id="annualMini"></div>
              </div>
            </div>
            <div class="kpi">
              <div>
                <p class="lbl">Monthly</p>
                <div class="val" id="monthlyOut">$0</div>
                <div class="mini" id="monthlyMini"></div>
              </div>
            </div>
            <div class="kpi">
              <div>
                <p class="lbl">Weekly</p>
                <div class="val" id="weeklyOut">$0</div>
                <div class="mini" id="weeklyMini"></div>
              </div>
            </div>

            <div class="kpi" id="otPeriodCard" style="display:none;">
              <div>
                <p class="lbl">Overtime pay (per pay period)</p>
                <div class="val" id="otPerPeriodOut">$0</div>
                <div class="mini" id="otPerPeriodMini"></div>
              </div>
            </div>
            <div class="kpi" id="periodTotalCard" style="display:none;">
              <div>
                <p class="lbl">Estimated total (per pay period)</p>
                <div class="val" id="periodTotalOut">$0</div>
                <div class="mini" id="periodTotalMini"></div>
              </div>
            </div>
          </div>

          <!-- Results: Salary → Hourly -->
          <div id="resultsSalary" class="results" style="display:none;">
            <div class="kpi">
              <div>
                <p class="lbl">Annual</p>
                <div class="val" id="annualOut2">$0</div>
                <div class="mini" id="annualMini2"></div>
              </div>
            </div>
            <div class="kpi">
              <div>
                <p class="lbl">Monthly</p>
                <div class="val" id="monthlyOut2">$0</div>
                <div class="mini" id="monthlyMini2"></div>
              </div>
            </div>
            <div class="kpi">
              <div>
                <p class="lbl">Weekly</p>
                <div class="val" id="weeklyOut2">$0</div>
                <div class="mini" id="weeklyMini2"></div>
              </div>
            </div>
            <div class="kpi">
              <div>
                <p class="lbl">Hourly (estimated)</p>
                <div class="val" id="hourlyOut2">$0.00</div>
                <div class="mini" id="hourlyMini2"></div>
              </div>
            </div>
          </div>

          <div class="section" style="padding: 16px 0 0; border-top:none;">
            <p style="margin:0; color:var(--muted); font-size:13px;">
              Affiliate links may appear in the future. If we add them, we’ll clearly disclose them here.
            </p>
          </div>
        </div>
      </aside>
    </div>

    <section class="card" id="how" style="margin-top:16px;">
      <div class="hd">
        <div>
          <h2>How it works</h2>
          <p class="hint">The simple math behind each calculator.</p>
        </div>
      </div>
      <div class="bd">
        <div class="section" style="border-top:none; padding:0;">
          <h3>Hourly → Salary</h3>
          <div class="formula">Annual = Hourly × Hours per Week × Weeks per Year
Monthly = Annual ÷ 12
Weekly = Annual ÷ Weeks per Year</div>

          <h3 style="margin-top:14px;">Hourly → Salary (with overtime enabled)</h3>
          <div class="formula">Overtime per Period = Hourly × Overtime Hours × Multiplier
Overtime Annual (estimate) = Overtime per Period × Pay Periods per Year
Annual Total (estimate) = Base Annual + Overtime Annual</div>

          <h3 style="margin-top:14px;">Salary → Hourly</h3>
          <div class="formula">Hourly = Annual Salary ÷ (Hours per Week × Weeks per Year)</div>

          <p style="margin-top:12px;">
            These calculators show <strong>gross estimates</strong> (before taxes/deductions) and are meant for quick comparisons.
          </p>
        </div>
      </div>
    </section>

    <section class="card faq" style="margin-top:16px;">
      <div class="hd">
        <div>
          <h2>FAQ</h2>
          <p class="hint">Common questions people ask.</p>
        </div>
      </div>
      <div class="bd">
        <details>
          <summary>Does this include taxes or deductions?</summary>
          <p>No. All results are gross estimates (before taxes, deductions, retirement, insurance, etc.).</p>
        </details>
        <details>
          <summary>How accurate is the overtime estimate?</summary>
          <p>It’s a simple estimate assuming the same overtime each pay period. If overtime varies, your annual total will vary.</p>
        </details>
        <details>
          <summary>Why does monthly pay differ from biweekly or semi-monthly pay?</summary>
          <p>Monthly here is annual ÷ 12. Paychecks differ because biweekly (26) and semi-monthly (24) have different pay period counts.</p>
        </details>
      </div>
    </section>

    <div class="footer">
      <div><strong>Disclaimer:</strong> This tool provides general estimates and is not financial, tax, or legal advice.</div>
      <div>© <span id="year"></span> SmartPayCalculator</div>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    const toNumber = (val) => {
      if (val == null) return NaN;
      const cleaned = String(val).replace(/[^0-9.]/g, "");
      const num = parseFloat(cleaned);
      return Number.isFinite(num) ? num : NaN;
    };

    const money0 = (n) => {
      if (!Number.isFinite(n)) return "$0";
      return n.toLocaleString(undefined, { style: "currency", currency: "USD", maximumFractionDigits: 0 });
    };

    const money2 = (n) => {
      if (!Number.isFinite(n)) return "$0.00";
      return n.toLocaleString(undefined, { style: "currency", currency: "USD", minimumFractionDigits: 2, maximumFractionDigits: 2 });
    };

    function setStatus(text){ $("resultStatus").textContent = text; }

    // -------- Custom dropdown (fully styled, no native select glitches) --------
    function createCustomSelect(rootEl, options, defaultValue, onChange){
      const btn = rootEl.querySelector("button");
      const valueEl = rootEl.querySelector(".cvalue");
      const list = rootEl.querySelector(".coptions");

      let current = defaultValue;

      function render(){
        list.innerHTML = "";
        options.forEach(opt => {
          const div = document.createElement("div");
          div.className = "copt";
          div.setAttribute("role","option");
          div.setAttribute("data-value", opt.value);
          div.setAttribute("aria-selected", String(opt.value === current));
          div.innerHTML = `<div class="t">${opt.title}</div>${opt.subtitle ? `<div class="s">${opt.subtitle}</div>` : ""}`;
          div.addEventListener("click", () => {
            set(opt.value);
            close();
          });
          list.appendChild(div);
        });

        const chosen = options.find(o => o.value === current) || options[0];
        valueEl.textContent = chosen.title;
      }

      function open(){
        list.classList.add("open");
        btn.setAttribute("aria-expanded","true");
      }

      function close(){
        list.classList.remove("open");
        btn.setAttribute("aria-expanded","false");
      }

      function toggle(){
        if (list.classList.contains("open")) close();
        else open();
      }

      function set(v){
        current = v;
        render();
        onChange?.(v);
      }

      btn.addEventListener("click", toggle);

      // close on outside click
      document.addEventListener("click", (e) => {
        if (!rootEl.contains(e.target)) close();
      });

      // close on escape
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") close();
      });

      render();

      return {
        get: () => current,
        set: (v) => set(v),
        close
      };
    }

    // -------- Modes --------
    let mode = "hourly"; // hourly | salary
    function showMode(next){
      mode = next;

      $("modeHourly").setAttribute("aria-pressed", String(mode === "hourly"));
      $("modeSalary").setAttribute("aria-pressed", String(mode === "salary"));

      $("hourlyPanel").style.display = (mode === "hourly") ? "block" : "none";
      $("salaryPanel").style.display = (mode === "salary") ? "block" : "none";

      $("resultsHourly").style.display = (mode === "hourly") ? "grid" : "none";
      $("resultsSalary").style.display = (mode === "salary") ? "grid" : "none";

      setStatus("Ready");
      calcAll();
    }

    $("modeHourly").addEventListener("click", () => showMode("hourly"));
    $("modeSalary").addEventListener("click", () => showMode("salary"));

    // -------- Overtime toggle --------
    $("includeOvertime").addEventListener("change", () => {
      const on = $("includeOvertime").checked;
      $("overtimeFields").style.display = on ? "block" : "none";
      $("otPeriodCard").style.display = on ? "block" : "none";
      $("periodTotalCard").style.display = on ? "block" : "none";
      calcAll();
    });

    function periodsPerYear(period){
      switch(period){
        case "weekly": return 52;
        case "biweekly": return 26;
        case "semimonthly": return 24;
        case "monthly": return 12;
        default: return 52;
      }
    }

    // -------- Custom dropdown instances --------
    const payPeriodSelect = createCustomSelect(
      document.querySelector('.cselect[data-name="payPeriod"]'),
      [
        { value: "weekly", title: "Weekly (52/yr)" },
        { value: "biweekly", title: "Biweekly (26/yr)" },
        { value: "semimonthly", title: "Semi-monthly (24/yr)" },
        { value: "monthly", title: "Monthly (12/yr)" }
      ],
      "weekly",
      () => calcAll()
    );

    const otMultSelect = createCustomSelect(
      document.querySelector('.cselect[data-name="otMultiplier"]'),
      [
        { value: "1.5", title: "1.5× (time and a half)" },
        { value: "2", title: "2× (double time)" },
        { value: "custom", title: "Custom…" }
      ],
      "1.5",
      (v) => {
        $("customMultWrap").style.display = (v === "custom") ? "block" : "none";
        calcAll();
      }
    );

    function renderNaHourly(){
      $("annualOut").textContent = "$0";
      $("monthlyOut").textContent = "$0";
      $("weeklyOut").textContent = "$0";
      $("annualMini").textContent = "";
      $("monthlyMini").textContent = "";
      $("weeklyMini").textContent = "";

      $("otPerPeriodOut").textContent = "$0";
      $("periodTotalOut").textContent = "$0";
      $("otPerPeriodMini").textContent = "";
      $("periodTotalMini").textContent = "";
    }

    function renderNaSalary(){
      $("annualOut2").textContent = "$0";
      $("monthlyOut2").textContent = "$0";
      $("weeklyOut2").textContent = "$0";
      $("hourlyOut2").textContent = "$0.00";
      $("annualMini2").textContent = "";
      $("monthlyMini2").textContent = "";
      $("weeklyMini2").textContent = "";
      $("hourlyMini2").textContent = "";
    }

    function calcHourlyToSalary(){
      const hr = toNumber($("hourlyRate").value);
      const hpw = toNumber($("hoursPerWeek").value);
      const wpy = toNumber($("weeksPerYear").value);
      const period = payPeriodSelect.get();

      if (!Number.isFinite(hr) || hr < 0){ setStatus("Enter hourly"); renderNaHourly(); return; }
      if (!Number.isFinite(hpw) || !Number.isFinite(wpy) || hpw <= 0 || wpy <= 0){ setStatus("Check inputs"); renderNaHourly(); return; }

      const baseAnnual = hr * hpw * wpy;

      const otOn = $("includeOvertime").checked;
      let annual = baseAnnual;

      const ppy = periodsPerYear(period);
      const basePerPeriod = baseAnnual / ppy;

      if (otOn){
        const otHrs = toNumber($("overtimeHours").value);

        let mult = toNumber(otMultSelect.get());
        if (otMultSelect.get() === "custom"){
          mult = toNumber($("customMultiplier").value);
        }

        if (!Number.isFinite(otHrs) || otHrs < 0){ setStatus("Check OT hours"); renderNaHourly(); return; }
        if (!Number.isFinite(mult) || mult <= 0){ setStatus("Check multiplier"); renderNaHourly(); return; }

        const otPerPeriod = hr * otHrs * mult;
        const otAnnual = otPerPeriod * ppy;
        annual = baseAnnual + otAnnual;

        const periodTotal = basePerPeriod + otPerPeriod;

        $("otPerPeriodOut").textContent = money0(otPerPeriod);
        $("otPerPeriodMini").textContent = `${money2(hr)} × ${otHrs} hrs × ${mult}×`;

        $("periodTotalOut").textContent = money0(periodTotal);
        $("periodTotalMini").textContent = `${money0(basePerPeriod)} + ${money0(otPerPeriod)} (${ppy} periods/yr)`;
      }

      const monthly = annual / 12;
      const weekly = annual / wpy;

      $("annualOut").textContent = money0(annual);
      $("monthlyOut").textContent = money0(monthly);
      $("weeklyOut").textContent = money0(weekly);

      const annualTag = otOn ? `${money2(hr)} × ${hpw} hrs × ${wpy} wks + OT` : `${money2(hr)} × ${hpw} hrs × ${wpy} wks`;
      $("annualMini").textContent = annualTag;
      $("monthlyMini").textContent = `${money0(annual)} ÷ 12`;
      $("weeklyMini").textContent = `${money0(annual)} ÷ ${wpy}`;

      setStatus("Updated");
    }

    function calcSalaryToHourly(){
      const sal = toNumber($("annualSalary").value);
      const hpw = toNumber($("hoursPerWeek2").value);
      const wpy = toNumber($("weeksPerYear2").value);

      if (!Number.isFinite(sal) || sal < 0){ setStatus("Enter salary"); renderNaSalary(); return; }
      if (!Number.isFinite(hpw) || !Number.isFinite(wpy) || hpw <= 0 || wpy <= 0){ setStatus("Check inputs"); renderNaSalary(); return; }

      const hourly = sal / (hpw * wpy);
      const monthly = sal / 12;
      const weekly = sal / wpy;

      $("annualOut2").textContent = money0(sal);
      $("monthlyOut2").textContent = money0(monthly);
      $("weeklyOut2").textContent = money0(weekly);
      $("hourlyOut2").textContent = money2(hourly);

      $("annualMini2").textContent = `Annual salary`;
      $("monthlyMini2").textContent = `${money0(sal)} ÷ 12`;
      $("weeklyMini2").textContent = `${money0(sal)} ÷ ${wpy}`;
      $("hourlyMini2").textContent = `${money0(sal)} ÷ (${hpw} × ${wpy})`;

      setStatus("Updated");
    }

    function calcAll(){
      if (mode === "hourly") return calcHourlyToSalary();
      return calcSalaryToHourly();
    }

    // Live updates
    [
      "hourlyRate","hoursPerWeek","weeksPerYear",
      "overtimeHours","customMultiplier",
      "annualSalary","hoursPerWeek2","weeksPerYear2"
    ].forEach(id=>{
      const el = $(id);
      el.addEventListener("input", calcAll);
      el.addEventListener("change", calcAll);
    });

    // Badge + year
    const d = new Date();
    $("year").textContent = String(d.getFullYear());
    $("updatedDate").textContent = d.toLocaleDateString(undefined, { year:"numeric", month:"short", day:"numeric" });

    // Init cards hidden
    $("otPeriodCard").style.display = "none";
    $("periodTotalCard").style.display = "none";

    // Init
    showMode("hourly");
  </script>
</body>
</html>
